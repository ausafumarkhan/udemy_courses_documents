



<!DOCTYPE html>
<html lang='en'>
<head>
<title>Configuring an Internal Load Balancer | Google Cloud Skills Boost for Partners</title>
<script>
//<![CDATA[
window.gon={};gon.deployment="googlecourses-run";
//]]>
</script>
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',"GTM-5XSKHDX");
</script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/polyfills/webcomponents-loader-8583b47b01e40e6ea7bf1ad443a20b7e79bbdd5eafac009806a228c91a97282c.js"></script>
<script src="https://cdn.qwiklabs.com/assets/vendor-beb958bea8eff6a4ad4cf8f36a0a676817a4857e214b17ae983796071a4a816d.js"></script>
<script src="https://cdn.qwiklabs.com/assets/application-e8cb972df3c4fe0610b31ae6c7b12d323456c1a96b7ef459da8d7e0b1334a507.js"></script>
<script src="https://cdn.qwiklabs.com/assets/hallofmirrors/hallofmirrors-7a09cf7f89024ad118922f5e419d9f62ee3d22bc7ac2719228be7c19a37a1e4f.js"></script>
<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script id='ze-snippet' src='https://static.zdassets.com/ekr/snippet.js?key=511e4158-0aec-4e3c-b2e6-4daa1769f51e'></script>


<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="7zYA5dzecP3iCm/M0NGUHlv+505RhWwgE7pJDnjn4JtMrMEyVdRCebnWYIx3s+SJNG5mqVha6lOlZMvB2RC4DQ==" />
<meta content='width=device-width, initial-scale=1.0, user-scalable=yes' name='viewport'>
<meta content='1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0' name='google-site-verification'>
<meta content='#3681E4' property='msapplication-TileColor'>
<meta content='/favicon-144.png' property='msapplication-TileImage'>
<meta content='[{&quot;id&quot;:&quot;recaptcha_experiment&quot;,&quot;optimize_id&quot;:&quot;dpViOcLkT3qS4TvL2mRojA&quot;,&quot;title&quot;:&quot;No Recaptcha shown for trusted users&quot;,&quot;variant_index&quot;:0,&quot;variant&quot;:&quot;original&quot;}]' name='active-experiments'>
<meta content='{&quot;userId&quot;:11061062,&quot;experimentIds&quot;:[&quot;oauth_risc_shutoff&quot;,&quot;program_groups&quot;,&quot;program_learning_assignment&quot;,&quot;course_upgrade&quot;,&quot;enforce_codebuild_verdicts&quot;,&quot;canonical_domain_redirect&quot;,&quot;learning_center&quot;,&quot;alexandria_show_bundle_errors&quot;,&quot;used_in&quot;,&quot;show_annual_purchase_now&quot;,&quot;community_forum&quot;,&quot;program_resources&quot;,&quot;programs&quot;,&quot;chat_off_for_signed_out_users&quot;]}' name='help-api-product-data'>
<meta content='{&quot;groupIds&quot;:[&quot;non_suadmins&quot;,&quot;students&quot;,&quot;non_organization&quot;,&quot;non_program&quot;]}' name='help-api-custom-data'>
<meta content='In this lab, you create two managed instance groups in the same region. Then, you configure an Internal Load Balancer with the instances groups as the backends.' name='description'>
<meta content='Qwiklabs' name='author'>
<meta content='Configuring an Internal Load Balancer | Google Cloud Skills Boost for Partners' property='og:title'>
<meta content='website' property='og:type'>
<meta content='/favicon-144.png' property='og:image'>
<meta content='Qwiklabs' property='og:site_name'>
<meta content='In this lab, you create two managed instance groups in the same region. Then, you configure an Internal Load Balancer with the instances groups as the backends.' property='og:description'>
<meta content='/qwiklabs_logo_900x887.png' property='og:logo' size='900x887'>
<meta content='/qwiklabs_logo_994x187.png' property='og:logo' size='994x187'>


<meta property="og:url" content="https://partner.cloudskillsboost.google/course_sessions/3128632/labs/374887" /><link href="https://partner.cloudskillsboost.google/course_sessions/3128632/labs/374887" rel="canonical" />
<link color='#3681E4' href='/favicon-svg.svg' rel='mask-icon'>
<link href='/favicon-180.png' rel='apple-touch-icon-precomposed'>
<link href='https://cdn.qwiklabs.com/Vag5GK2J6rS6843Qvg8TQJ1kEbAsEmQoF0%2BdLRfcLRE%3D' rel='shortcut icon' type='image/x-icon'>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:400|Roboto+Mono:400,700|Roboto:300,400,500,700|Google+Sans:300,400,500,700|Google+Sans+Display:400|Material+Icons|Google+Material+Icons" media="screen" />

<link rel="stylesheet" href="https://cdn.qwiklabs.com/assets/application-68068ef39e5c434ed33fece13d77f9c8a42264363c729ca27e5af35578a2813d.css" media="all" />


<style>
  :root {
    --primary-text-on-surface-color: #1a73e8;
    --primary-text-on-surface-color-dark: #1568d6;
    --primary-text-on-surface-color-darker: #135ec1;
    --primary-text-on-surface-color-darkest: #1154ac;
    --primary-surface-color: #1a73e8;
    --primary-surface-color-rgb: 26,115,232;
    --primary-surface-color-light: #d1e3fa;
    --primary-surface-color-lightest: #e8f1fd;
    --text-on-primary-color: #ffffff;
    --accent-text-on-surface-color: #f29900;
    --accent-surface-color: #f9ab00;
    --accent-surface-color-rgb: 249,171,0;
    --accent-surface-color-light: #ffefcc;
    --text-on-accent-color: #202124;
  }
</style>

<style>
  :root {
    --navbar-height: 112px;
  }
</style>



</head>
<body class='lab-show l-full no-nav course-layout-body l-full no-nav  application-new course_sessions-labs course_sessions-labs-show lab-show l-full no-nav course-layout-body l-full no-nav  '>
<ql-toolbar centered class='course-header'>
<div class='course-header-navigation' role='navigation' slot='navigation'>
<ul>
<li>
<ql-icon-button href='/course_templates/178' icon='home' label='Course home' tip='Home'></ql-icon-button>
</li>
<li>
<ql-toggle-button class='course-side-toggle' data-analytics-action='Toggled course outline panel' data-analytics-category='Course' data-analytics-label='Elastic Google Cloud Infrastructure: Scaling and Automation' expandable for='course-outline-drawer' icon='list' id='toggle-outline' label='Toggle course outline' on tip='Toggle course outline'></ql-toggle-button>
</li>
<li>
<ql-icon-button href='/course_sessions/3128632/video/374886' icon='arrow_back' label='Previous activity' tip='Previous activity'></ql-icon-button>
</li>
<li>
<ql-icon-button href='/course_sessions/3128632/video/374888' icon='arrow_forward' label='Next activity' tip='Next activity'></ql-icon-button>
</li>
</ul>
</div>
<h1 class='ql-headline-6' slot='title'>
Configuring an Internal Load Balancer
</h1>
<div class='course-header-actions' slot='action'>
<ql-icon-button id='control-panel-target' style='display: none;'>
dashboard
</ql-icon-button>
<ql-menu for='control-panel-target' id='control-panel-menu'></ql-menu>

<ql-icon-button class='mobile-hide' icon='help_outline' id='help-menu-button' label='Open help menu' tip='Help'></ql-icon-button>
<ql-menu for='help-menu-button' id='help-menu'>
<ql-menu-item data-analytics-action='opened_help' data-analytics-label='course' label='Help Center' onclick='hallofmirrors.helpService.startHelp({&quot;productData&quot;:{&quot;userId&quot;:11061062},&quot;context&quot;:&quot;course&quot;})'></ql-menu-item>
<ql-menu-item href='mailto:support@qwiklabs.com' label='Email support'></ql-menu-item>
<ql-menu-item label='Chat support' onClick='ql.chat.open()'></ql-menu-item>
</ql-menu>

</div>
</ql-toolbar>


<nav class='nav-panel js-nav-panel'>
<div class='nav-panel__logo'>
<div class="custom-logo"><img alt="Google Cloud Skills Boost for Partners" height="24" aria-label="Google Cloud Skills Boost for Partners" src="https://cdn.qwiklabs.com/PGyhmgS3zZncIEGywnx5UXsKwepRRFQ9BhAg%2FWHNrlQ%3D" /></div>
</div>
<nav class='ql-sidenav'>
<ql-sidenav-item href='/' icon='home' label='Paths'></ql-sidenav-item>

<ql-sidenav-item href='/catalog' icon='school' label='Explore'></ql-sidenav-item>

<ql-sidenav-item href='/profile' icon='event_note' label='Profile'></ql-sidenav-item>

</nav>

</nav>
<div class='nav-panel__overlay js-nav-toggle'></div>

<main class='js-main' id='jump-content'>
<div class='l-main-wrapper' id='main-wrapper'>
<ql-drawer-container class='course-container'>
<ql-drawer aria-labelledby='toggle-outline' id='course-outline-drawer' localStorageid='course-outline' open slot='drawer' width='240'>
<ql-course-outline activeActivityId='374887' modules='[{&quot;id&quot;:&quot;58688&quot;,&quot;title&quot;:&quot;Introduction&quot;,&quot;description&quot;:&quot;\u003cp\u003eIn this module we introduce the Architecting with Google Compute Engine course series. This course series is defined for cloud solution architects, DevOps engineers, and anyone who&#39;s interested in using Google Cloud, to create new solutions or to integrate existing systems, application environments, and infrastructure with a focus on Compute Engine.\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382219&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374858&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374858&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:525000,&quot;title&quot;:&quot;Course Introduction&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382220&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374859&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/documents/374859&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Welcome to Elastic Cloud Infrastructure: Scaling and Automation&quot;,&quot;type&quot;:&quot;document&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false},{&quot;id&quot;:&quot;58689&quot;,&quot;title&quot;:&quot;Interconnecting Networks&quot;,&quot;description&quot;:&quot;\u003cp\u003eConnect your infrastructure to Google Cloud\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382221&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374860&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374860&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:34000,&quot;title&quot;:&quot;Module Overview&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382222&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374861&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374861&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:610000,&quot;title&quot;:&quot;Cloud VPN&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382223&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374862&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/documents/374862&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;HA VPN&quot;,&quot;type&quot;:&quot;document&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382224&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374863&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374863&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:46000,&quot;title&quot;:&quot;Lab Intro: Configuring Google Cloud HA VPN&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382225&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374864&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/labs/374864&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:4500000,&quot;title&quot;:&quot;Configuring Google Cloud HA VPN&quot;,&quot;type&quot;:&quot;lab&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382226&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374865&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374865&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:86000,&quot;title&quot;:&quot;Cloud Interconnect and Peering&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382227&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374866&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374866&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:274000,&quot;title&quot;:&quot;Cloud Interconnect&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382228&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374867&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374867&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:144000,&quot;title&quot;:&quot;Peering&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382229&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374868&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374868&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:134000,&quot;title&quot;:&quot;Choosing a connection&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382230&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374869&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374869&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:318000,&quot;title&quot;:&quot;Shared VPC and VPC Peering&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382231&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374870&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/quizzes/374870&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Quiz: Interconnecting Networks&quot;,&quot;type&quot;:&quot;quiz&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382232&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374871&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374871&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:37000,&quot;title&quot;:&quot;Module Review&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false},{&quot;id&quot;:&quot;58690&quot;,&quot;title&quot;:&quot;Load Balancing and Autoscaling&quot;,&quot;description&quot;:&quot;\u003cp\u003eConfigure load balancers and autoscaling for VM instances\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382233&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374872&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374872&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:156000,&quot;title&quot;:&quot;Module Overview&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382234&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374873&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374873&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:189000,&quot;title&quot;:&quot;Managed instance groups&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382235&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374874&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374874&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:180000,&quot;title&quot;:&quot;Autoscaling and health checks&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382236&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374875&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374875&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:285000,&quot;title&quot;:&quot;Overview of HTTP(S) load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382237&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374876&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374876&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:167000,&quot;title&quot;:&quot;Example: HTTP load balancer&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382238&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374877&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374877&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:229000,&quot;title&quot;:&quot;HTTP(S) load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382239&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374878&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374878&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:19000,&quot;title&quot;:&quot;Lab Intro: Configuring an HTTP Load Balancer with Autoscaling&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382240&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374879&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/labs/374879&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:3600000,&quot;title&quot;:&quot;Configuring an HTTP Load Balancer with Autoscaling&quot;,&quot;type&quot;:&quot;lab&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382241&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374880&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374880&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:1535000,&quot;title&quot;:&quot;Lab Review: Configuring an HTTP Load Balancer with Autoscaling&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382242&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374881&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374881&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:267000,&quot;title&quot;:&quot;Cloud CDN&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382243&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374882&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374882&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:120000,&quot;title&quot;:&quot;SSL proxy load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382244&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374883&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374883&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:82000,&quot;title&quot;:&quot;TCP proxy load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382245&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374884&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374884&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:138000,&quot;title&quot;:&quot;Network load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382246&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374885&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374885&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:224000,&quot;title&quot;:&quot;Internal load balancing&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382247&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374886&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374886&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:17000,&quot;title&quot;:&quot;Lab Intro: Configuring an Internal Load Balancer&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382248&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374887&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/labs/374887&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:2700000,&quot;title&quot;:&quot;Configuring an Internal Load Balancer&quot;,&quot;type&quot;:&quot;lab&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382249&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374888&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374888&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:806000,&quot;title&quot;:&quot;Lab Review: Configuring an Internal Load Balancer&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382250&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374889&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374889&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:191000,&quot;title&quot;:&quot;Choosing a load balancer&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382251&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374890&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/quizzes/374890&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Quiz: Load Balancing and Autoscaling&quot;,&quot;type&quot;:&quot;quiz&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382252&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374891&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374891&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:33000,&quot;title&quot;:&quot;Module Review&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false},{&quot;id&quot;:&quot;58691&quot;,&quot;title&quot;:&quot;Infrastructure Automation&quot;,&quot;description&quot;:&quot;\u003cp\u003eAutomate the deployment of Google Cloud infrastructure services\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382253&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374892&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374892&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:93000,&quot;title&quot;:&quot;Module Overview&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382254&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374893&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374893&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:402000,&quot;title&quot;:&quot;Terraform&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382255&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374894&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374894&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:24000,&quot;title&quot;:&quot;Lab Intro: Automating the Infrastructure of Networks Using Terraform&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382256&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374895&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/labs/374895&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:3600000,&quot;title&quot;:&quot;Automating the Deployment of Infrastructure Using Terraform&quot;,&quot;type&quot;:&quot;lab&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382257&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374896&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374896&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:886000,&quot;title&quot;:&quot;Lab Review: Automating the Infrastructure of networks using Terraform&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382258&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374897&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374897&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:50000,&quot;title&quot;:&quot;Google Cloud Marketplace&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382259&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374898&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374898&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:252000,&quot;title&quot;:&quot;Demo: Launch Infrastructure Solutions on Google Cloud Marketplace&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382260&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374899&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/quizzes/374899&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Quiz: Infrastructure Automation&quot;,&quot;type&quot;:&quot;quiz&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382261&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374900&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374900&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:35000,&quot;title&quot;:&quot;Module Review&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false},{&quot;id&quot;:&quot;58692&quot;,&quot;title&quot;:&quot;Managed Services&quot;,&quot;description&quot;:&quot;\u003cp\u003eLeverage managed services in Google Cloud\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382262&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374901&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374901&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:65000,&quot;title&quot;:&quot;Module Overview&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382263&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374902&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374902&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:60000,&quot;title&quot;:&quot;BigQuery&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382264&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374903&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374903&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:101000,&quot;title&quot;:&quot;Dataflow&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382265&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374904&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374904&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:93000,&quot;title&quot;:&quot;Dataprep&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382266&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374905&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374905&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:134000,&quot;title&quot;:&quot;Dataproc&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382267&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374906&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374906&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:388000,&quot;title&quot;:&quot;Demo: Dataproc&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382268&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:false,&quot;activities&quot;:[{&quot;id&quot;:&quot;374907&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/quizzes/374907&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Quiz: Managed Services&quot;,&quot;type&quot;:&quot;quiz&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382269&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374908&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374908&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:50000,&quot;title&quot;:&quot;Module Review&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382270&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374909&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/video/374909&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:28000,&quot;title&quot;:&quot;Course Series Review&quot;,&quot;type&quot;:&quot;video&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false},{&quot;id&quot;:&quot;382271&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374910&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/documents/374910&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;What’s Next? Get Certified&quot;,&quot;type&quot;:&quot;document&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false},{&quot;id&quot;:&quot;58693&quot;,&quot;title&quot;:&quot;Course Resources&quot;,&quot;description&quot;:&quot;\u003cp\u003ePDF links to all modules\u003c/p\u003e&quot;,&quot;steps&quot;:[{&quot;id&quot;:&quot;382272&quot;,&quot;prompt&quot;:null,&quot;isOptional&quot;:true,&quot;activities&quot;:[{&quot;id&quot;:&quot;374911&quot;,&quot;href&quot;:&quot;/course_sessions/3128632/documents/374911&quot;,&quot;isLocked&quot;:false,&quot;duration&quot;:0,&quot;title&quot;:&quot;Course Resources&quot;,&quot;type&quot;:&quot;document&quot;,&quot;isComplete&quot;:true,&quot;inProgress&quot;:false,&quot;score&quot;:null}],&quot;isComplete&quot;:true,&quot;allActivitiesRequired&quot;:false}],&quot;expanded&quot;:false}]' open></ql-course-outline>
</ql-drawer>
<ql-drawer-content class='course-activity' slot='drawer-content'>
<ql-dialog dismissalLabel='Dismiss' headline='Congratulations! You finished this course.' id='course-session-completion-modal'>
<img src="https://cdn.qwiklabs.com/VdOkLhbA6dUC82z%2BaeUkVIzbsomnBLOjmI1BvsuxqAU%3D" />
<ql-button href='/course_sessions/3128632/course_surveys/0' slot='action' text>
Share your feedback
</ql-button>
</ql-dialog>



<div class='lab-assessment__tab js-open-lab-assessment-panel'>
<button class='js-lab-assessment-total-score'>
—/40
</button>
</div>
<div aria-labelledby='lab-assessment-checkpoint' class='lab-assessment__panel js-lab-assessment-panel' role='dialog'>
<div class='lab-assessment__panel__header'>
<h4 id='lab-assessment-checkpoint'>Checkpoints</h4>
<ql-icon-button class='js-close-lab-assessment-panel' icon='arrow_forward' label='Close dialog'></ql-icon-button>
</div>
<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Configure internal traffic and health check firewall rules
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Configure internal traffic and health check firewall rules' step_no='1'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-1'>
</span>
/ 10
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Create a NAT configuration using Cloud Router
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Create a NAT configuration using Cloud Router' step_no='2'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-2'>
</span>
/ 10
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Configure instance templates and create instance groups
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Configure instance templates and create instance groups' step_no='3'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-3'>
</span>
/ 10
</p>
</div>
</div>

<div class='lab-assessment__step'>
<p class='lab-assessment__step__title' id='lab-assessment-step-title'>
Configure the internal load balancer
</p>
<div class='lab-assessment__step__action'>
<ql-button class='js-show-run-step-button' description='Configure the internal load balancer' step_no='4'>
Check my progress
</ql-button>
<p class='lab-assessment__step__score'>
<span class='js-assessment-step-score-4'>
</span>
/ 10
</p>
</div>
</div>

</div>
<ql-drawer-container class='js-lab-state' data-analytics-payload='{&quot;label&quot;:&quot;Configuring an Internal Load Balancer&quot;,&quot;lab_name&quot;:&quot;Configuring an Internal Load Balancer&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecourses-run&quot;}' data-credits='0.0' data-focus-id='151684457' data-lab-billing-limit='0.0' data-lab-duration='5400' data-parent='course_session' data-recaptcha-enabled id='lab-container'>
<ql-drawer id='terminal-drawer' slot='drawer' style='width: calc(100% - 480px)'>
<iframe allow='clipboard-read' class='terminal' id='embedded-resource'></iframe>
</ql-drawer>
<ql-drawer-content class='js-lab-wrapper' id='lab-content' slot='drawer-content'>
<ql-drawer-container id='lab-content-container'>
<ql-drawer id='control-panel-drawer' open slot='drawer' width='320'>
<ql-lab-control-panel class='ql-lab-control-panel__max-height control-panel js-lab-control-panel' connectionFiles='[]' labControlButton='{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}' labDetails='[]' labTimer='{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:5400}' studentResources='[]'>
<script src="https://www.recaptcha.net/recaptcha/api.js?render=6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr"   ></script>
        <script>
          // Define function so that we can call it again later if we need to reset it
          // This executes reCAPTCHA and then calls our callback.
          function executeRecaptchaForStartLab() {
            grecaptcha.ready(function() {
              grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}).then(function(token) {
                setInputWithRecaptchaResponseTokenForStartLab('g-recaptcha-response-data-start-lab', token)
              });
            });
          };
          // Invoke immediately
          executeRecaptchaForStartLab()

          // Async variant so you can await this function from another async function (no need for
          // an explicit callback function then!)
          // Returns a Promise that resolves with the response token.
          async function executeRecaptchaForStartLabAsync() {
            return new Promise((resolve, reject) => {
             grecaptcha.ready(async function() {
                resolve(await grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}))
              });
            })
          };

                    var setInputWithRecaptchaResponseTokenForStartLab = function(id, token) {
            var element = document.getElementById(id);
            element.value = token;
          }

        </script>
<input type="hidden" name="g-recaptcha-response-data[start_lab]" id="g-recaptcha-response-data-start-lab" data-sitekey="6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr" class="g-recaptcha g-recaptcha-response "/>

<div aria-live='polite' class='hidden' id='recaptcha-v2-start-lab' slot='recaptcha'>
<script src="https://www.recaptcha.net/recaptcha/api.js" async defer ></script>
<div data-sitekey="6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV" data-callback="recaptchaComplete" data-expired-callback="expireV2Token" class="g-recaptcha "></div>
          <noscript>
            <div>
              <div style="width: 302px; height: 422px; position: relative;">
                <div style="width: 302px; height: 422px; position: absolute;">
                  <iframe
                    src="https://www.recaptcha.net/recaptcha/api/fallback?k=6LeOI8IUAAAAAPkHlMAE9NReCD_1WD81iYlBlCnV"
                    name="ReCAPTCHA"
                    style="width: 302px; height: 422px; border-style: none; border: 0; overflow: hidden;">
                  </iframe>
                </div>
              </div>
              <div style="width: 300px; height: 60px; border-style: none;
                bottom: 12px; left: 25px; margin: 0px; padding: 0px; right: 25px;
                background: #f9f9f9; border: 1px solid #c1c1c1; border-radius: 3px;">
                <textarea id="g-recaptcha-response" name="g-recaptcha-response"
                  class="g-recaptcha-response"
                  style="width: 250px; height: 40px; border: 1px solid #c1c1c1;
                  margin: 10px 25px; padding: 0px; resize: none;">
                </textarea>
              </div>
            </div>
          </noscript>

</div>
</ql-lab-control-panel>
</ql-drawer>
<ql-drawer-content id='lab-instructions' slot='drawer-content'>
<ql-snackbar id='alert-snackbar'></ql-snackbar>
<div class='alert alert--fake js-alert'>
<p class='alert__message js-alert-message' role='alert'></p>
<ql-icon-button class='alert__close js-alert-close' icon='clear'></ql-icon-button>
<iframe class='l-ie-iframe-fix' tabindex='-1'></iframe>
</div>
<div class='lab-content__renderable-instructions js-lab-content'>
<div class='lab-preamble'>
<h1 class='lab-preamble__title'>
Configuring an Internal Load Balancer
</h1>
<div class='lab-preamble__details subtitle-headline-1'>
<span>1 hour 30 minutes</span>
<span>Free</span>
<div class='lab__rating'>
<a aria-label="Lab Reviews" href="/focuses/151684457/reviews?parent=course_session"><div class='rateit' data-rateit-readonly='true' data-rateit-value='4.4867'></div>

</a><ql-button aria-label='Rate Lab' id='rate-lab-btn' label='Rate Lab' text></ql-button>
</div>
</div>
</div>
<div class='lab-outline-place-holder'></div>

<div class='markdown-lab-instructions js-markdown-instructions' id='markdown-lab-instructions'>

<h2 id="step1">Overview</h2>
<p>Google Cloud offers Internal Load Balancing for your TCP/UDP-based traffic. Internal Load Balancing enables you to run and scale your services behind a private load balancing IP address that is accessible only to your internal virtual machine instances.</p>
<p>In this lab, you create two managed instance groups in the same region. Then you configure and test an internal load balancer with the instances groups as the backends, as shown in this network diagram:</p>
<p><img alt="Network architecture diagram" src="https://cdn.qwiklabs.com/FgrZkcSEqghVxKV14KPVgNzTUMo0lQfmqTgpG45%2BTYA%3D"></p>
<h3>Objectives</h3>
<p>In this lab, you will learn how to perform the following tasks:</p>
<ul>
<li>
<p>Create internal traffic and health check firewall rules.</p>
</li>
<li>
<p>Create a NAT configuration using Cloud Router.</p>
</li>
<li>
<p>Configure two instance templates.</p>
</li>
<li>
<p>Create two managed instance groups.</p>
</li>
<li>
<p>Configure and test an internal load balancer.</p>
</li>
</ul>
<h2 id="step2">Setup and requirements</h2>
<p>For each lab, you get a new Google Cloud project and set of resources for a fixed time at no cost.</p>
<ol>
<li>
<p>Sign in to Qwiklabs using an <strong>incognito window</strong>.</p>
</li>
<li>
<p>Note the lab's access time (for example, <code>1:15:00</code>), and make sure you can finish within that time.<br>
There is no pause feature. You can restart if needed, but you have to start at the beginning.</p>
</li>
<li>
<p>When ready, click <strong>Start lab</strong>.</p>
</li>
<li>
<p>Note your lab credentials (<strong>Username</strong> and <strong>Password</strong>). You will use them to sign in to the Google Cloud Console.</p>
</li>
<li>
<p>Click <strong>Open Google Console</strong>.</p>
</li>
<li>
<p>Click <strong>Use another account</strong> and copy/paste credentials for <strong>this</strong> lab into the prompts.<br>
If you use other credentials, you'll receive errors or <strong>incur charges</strong>.</p>
</li>
<li>
<p>Accept the terms and skip the recovery resource page.</p>
</li>
</ol>
<aside class="warning"><p><strong>Note:</strong> Do not click <strong>End Lab</strong> unless you have finished the lab or want to restart it. This clears your work and removes the project.
  </p>
</aside>
<h2 id="step3">Task 1. Configure internal traffic and health check firewall rules</h2>
<p>Configure firewall rules to allow internal traffic connectivity from sources in the 10.10.0.0/16 range. This rule allows incoming traffic from any client located in the subnet.</p>
<p>Health checks determine which instances of a load balancer can receive new connections. For HTTP load balancing, the health check probes to your load-balanced instances come from addresses in the ranges <strong>130.211.0.0/22</strong> and <strong>35.191.0.0/16</strong>. Your firewall rules must allow these connections.</p>
<h3>Explore the my-internal-app network</h3>
<p>The network <strong>my-internal-app</strong> with <strong>subnet-a</strong> and <strong>subnet-b</strong> and firewall rules for <strong>RDP</strong>, <strong>SSH</strong>, and <strong>ICMP</strong> traffic have been configured for you.</p>
<ul>
<li>
<p>In the Cloud Console, on the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>VPC network &gt; VPC networks</strong>.<br>
Notice the <strong>my-internal-app</strong> network with its subnets: <strong>subnet-a</strong> and <strong>subnet-b</strong>.</p>
<p>Each Google Cloud project starts with the <strong>default</strong> network. In addition, the <strong>my-internal-app</strong> network has been created for you as part of your network diagram.</p>
<p>You will create the managed instance groups in <strong>subnet-a</strong> and <strong>subnet-b</strong>. Both subnets are in the <strong>us-central1</strong> region because an internal load balancer is a regional service. The managed instance groups will be in different zones, making your service immune to zonal failures.</p>
</li>
</ul>
<h3>Create the firewall rule to allow traffic from any sources in the 10.10.0.0/16 range</h3>
<p>Create a firewall rule to allow traffic in the 10.10.0.0/16 subnet.</p>
<ol>
<li>
<p>On the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>VPC network &gt; Firewall</strong>.<br>
Notice the <strong>app-allow-icmp</strong> and <strong>app-allow-ssh-rdp</strong> firewall rules.</p>
<p>These firewall rules have been created for you.</p>
</li>
<li>
<p>Click <strong>Create Firewall Rule</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Name</td>
<td>fw-allow-lb-access</td>
</tr>
<tr>
<td>Network</td>
<td>my-internal-app</td>
</tr>
<tr>
<td>Targets</td>
<td>Specified target tags</td>
</tr>
<tr>
<td>Target tags</td>
<td>backend-service</td>
</tr>
<tr>
<td>Source filter</td>
<td>IPv4 ranges</td>
</tr>
<tr>
<td>Source IPv4 ranges</td>
<td>10.10.0.0/16</td>
</tr>
<tr>
<td>Protocols and ports</td>
<td>Allow all</td>
</tr>

</table>
</li>
</ol>
<ql-infobox><strong>Note: </strong>Make sure to include the <strong>/16 </strong> in the <strong>Source IPv4 ranges</strong>.</ql-infobox>
<ol start="4">
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
<h3>Create the health check rule</h3>
<p>Create a firewall rule to allow health checks.</p>
<ol>
<li>
<p>On the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>VPC network &gt; Firewall</strong>.</p>
</li>
<li>
<p>Click <strong>Create Firewall Rule</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Name</td>
<td>fw-allow-health-checks</td>
</tr>
<tr>
<td>Network</td>
<td>my-internal-app</td>
</tr>
<tr>
<td>Targets</td>
<td>Specified target tags</td>
</tr>
<tr>
<td>Target tags</td>
<td>backend-service</td>
</tr>
<tr>
<td>Source filter</td>
<td>IPv4 Ranges</td>
</tr>
<tr>
<td>Source IPv4 ranges</td>
<td>130.211.0.0/22 <strong>and</strong> 35.191.0.0/16</td>
</tr>
<tr>
<td>Protocols and ports</td>
<td>Specified protocols and ports</td>
</tr>

</table>
</li>
</ol>
<ql-infobox><strong>Note: </strong>Make sure to include the <strong>/22 </strong> and <strong>/16 </strong> in the <strong>Source IPv4 ranges</strong>.</ql-infobox>
<ol start="4">
<li>For <strong>tcp</strong>, check the checkbox and specify port <strong>80</strong>.</li>
<li>Click <strong>Create</strong>.</li>
</ol>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="1">
Configure internal traffic and health check firewall rules
</ql-activity-tracking></p>
<h2 id="step4">Task 2. Create a NAT configuration using Cloud Router</h2>
<p>The Google Cloud VM backend instances that you setup in Task 3 will not be configured with external IP addresses.</p>
<p>Instead, you will setup the Cloud NAT service to allow these VM instances to send outbound traffic only through the Cloud NAT, and receive inbound traffic through the load balancer.</p>
<h3>Create the Cloud Router instance</h3>
<ol>
<li>
<p>In the Cloud Console, on the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>Network services &gt; Cloud NAT</strong>.</p>
</li>
<li>
<p>Click <strong>Get started</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Gateway name</td>
<td>nat-config</td>
</tr>
<tr>
<td>Network</td>
<td>my-internal-app</td>
</tr>
<tr>
<td>Region</td>
<td>us-central1 (Iowa)</td>
</tr>

</table>
</li>
<li>
<p>Click <strong>Cloud Router</strong>, and select <strong>Create new router</strong>.</p>
</li>
<li>
<p>For <strong>Name</strong>, type <code>nat-router-us-central1</code>.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>In Create Cloud NAT gateway, click <strong>Create</strong>.</p>
</li>
</ol>
<ql-infobox><strong>Note: </strong>Wait until the NAT Gateway Status changes to Running before moving onto the next task.</ql-infobox>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="2">
Create a NAT configuration using Cloud Router
</ql-activity-tracking></p>
<h2 id="step5">Task 3. Configure instance templates and create instance groups</h2>
<p>A managed instance group uses an instance template to create a group of identical instances. Use these to create the backends of the internal load balancer.</p>
<p>This task has been performed for you at the start of this lab. You will need to SSH into each instance group VM and run the following command to setup the environment.</p>
<ol>
<li>
<p>On the <strong>Navigation menu</strong>, click <strong>Compute Engine &gt; VM instances</strong>.<br>
Notice two instances that start with <strong>instance-group-1</strong> and <strong>instance-group-2</strong>.</p>
</li>
<li>
<p>Select the SSH button next to <strong>instance-group-1</strong> to SSH into the VM.</p>
</li>
<li>
<p>Run the following command to re-run the instance's startup script:</p>
</li>
</ol>
<ql-code-block language="plaintext">
sudo google_metadata_script_runner startup
</ql-code-block>
<ol start="4">
<li>
<p>Repeat the previous steps for <strong>instance-group-2</strong>.</p>
</li>
<li>
<p>Wait for both startup scripts to finish executing, then close the SSH terminal to each VM. The output of the startup script should state the following:</p>
</li>
</ol>
<ql-code-block language="bash" output="">
Finished running startup scripts.
</ql-code-block>

<h3>Verify the backends</h3>
<p>Verify that VM instances are being created in both subnets and create a utility VM to access the backends' HTTP sites.</p>
<ol>
<li>
<p>On the <strong>Navigation menu</strong>, click <strong>Compute Engine &gt; VM instances</strong>.<br>
Notice two instances that start with <strong>instance-group-1</strong> and <strong>instance-group-2</strong>.</p>
<p>These instances are in separate zones, and their internal IP addresses are part of the <strong>subnet-a</strong> and <strong>subnet-b</strong> CIDR blocks.</p>
</li>
<li>
<p>Click <strong>Create Instance</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Name</td>
<td>utility-vm</td>
</tr>
<tr>
<td>Region</td>
<td>us-central1</td>
</tr>
<tr>
<td>Zone</td>
<td>us-central1-f</td>
</tr>
<tr>
<td>Series</td>
<td>N1</td>
</tr>
<tr>
<td>Machine type</td>
<td>n1-standard-1 (1 vCPU, 3.75 GB memory)</td>
</tr>
<tr>
<td>Boot disk</td>
<td>Debian GNU/Linux 10 (buster)</td>
</tr>

</table>
</li>
<li>
<p>In <strong>Advanced options</strong>, click <strong>Networking, disks, security, management, sole tenancy</strong>.</p>
</li>
<li>
<p>Click <strong>Networking</strong>.</p>
</li>
<li>
<p>For <strong>Network interfaces</strong>, click the dropdown to edit.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Network</td>
<td>my-internal-app</td>
</tr>
<tr>
<td>Subnetwork</td>
<td>subnet-a</td>
</tr>
<tr>
<td>Primary internal IP</td>
<td>Ephemeral (Custom)</td>
</tr>
<tr>
<td>Custom ephemeral IP address</td>
<td>10.10.20.50</td>
</tr>
<tr>
<td>External IPv4 address</td>
<td>None</td>
</tr>

</table>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
<li>
<p>Note that the internal IP addresses for the backends are <strong>10.10.20.2</strong> and <strong>10.10.30.2</strong>.</p>
</li>
</ol>
<ql-warningbox><strong>Note: </strong>If these IP addresses are different, replace them in the two <b>curl</b> commands below.</ql-warningbox>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="3">
Configure instance templates and create instance groups
</ql-activity-tracking></p>
<ol start="11">
<li>
<p>For <strong>utility-vm</strong>, click <strong>SSH</strong> to launch a terminal and connect.
If you see the <em>Connection via Cloud Identity-Aware Proxy Failed</em> popup, click <strong>Retry</strong>.</p>
</li>
<li>
<p>To verify the welcome page for <strong>instance-group-1-xxxx</strong>, run the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl 10.10.20.2
</ql-code-block>
<p>The output should look like this.</p>
<p><strong>Output:</strong></p>
<ql-code-block language="plaintext" output="">
&lt;h1&gt;Internal Load Balancing Lab&lt;/h1&gt;&lt;h2&gt;Client IP&lt;/h2&gt;Your IP address : 10.10.20.50&lt;h2&gt;Hostname&lt;/h2&gt;Server Hostname:
 instance-group-1-1zn8&lt;h2&gt;Server Location&lt;/h2&gt;Region and Zone: us-central1-a
</ql-code-block>
<ol start="13">
<li>
<p>To verify the welcome page for <strong>instance-group-2-xxxx</strong>, run the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl 10.10.30.2
</ql-code-block>
<p>The output should look like this.</p>
<p><strong>Output:</strong></p>
<ql-code-block language="plaintext" output="">
&lt;h1&gt;Internal Load Balancing Lab&lt;/h1&gt;&lt;h2&gt;Client IP&lt;/h2&gt;Your IP address : 10.10.20.50&lt;h2&gt;Hostname&lt;/h2&gt;Server Hostname:
 instance-group-2-q5wp&lt;h2&gt;Server Location&lt;/h2&gt;Region and Zone: us-central1-b
</ql-code-block>
<p><ql-multiple-select-probe answerindices="[1, 2]" optiontitles='[
"Client IP",
"Server Hostname",
"Server Location"
]' shuffle="" stem="Which of these fields identify the location of the backend?">
</ql-multiple-select-probe></p>
<ql-infobox><strong>Note: </strong>This will be useful when verifying that the internal load balancer sends traffic to both backends.</ql-infobox>
<ol start="14">
<li>
<p>Close the SSH terminal to <strong>utility-vm</strong>:</p>
</li>
</ol>
<ql-code-block language="plaintext">
exit
</ql-code-block>
<h2 id="step6">Task 4. Configure the internal load balancer</h2>
<p>Configure the internal load balancer to balance traffic between the two backends (<strong>instance-group-1</strong> in us-central1-a and <strong>instance-group-2</strong> in us-central1-b), as illustrated in the network diagram.</p>
<p><img alt="Network diagram" src="https://cdn.qwiklabs.com/FgrZkcSEqghVxKV14KPVgNzTUMo0lQfmqTgpG45%2BTYA%3D"></p>
<h3>Start the configuration</h3>
<ol>
<li>In the Cloud Console, on the <strong>Navigation menu</strong> (<img alt="Navigation menu icon" src="https://cdn.qwiklabs.com/tkgw1TDgj4Q%2BYKQUW4jUFd0O5OEKlUMBRYbhlCrF0WY%3D">), click <strong>Network Services &gt; Load balancing</strong>.</li>
<li>Click <strong>Create load balancer</strong>.</li>
<li>Under <strong>TCP Load Balancing</strong>, click <strong>Start configuration</strong>.</li>
<li>For <strong>Internet facing or internal only</strong>, select <strong>Only between my VMs</strong>.</li>
</ol>
<ql-infobox><strong>Note: </strong>Choosing <b>Only between my VMs</b> makes this load balancer internal. This choice requires the backends to be in a single region (us-central1) and does not allow offloading TCP processing to the load balancer.</ql-infobox>
<ol start="5">
<li>
<p>Click <strong>Continue</strong>.</p>
</li>
<li>
<p>For <strong>Name</strong>, type <code>my-ilb</code>.</p>
</li>
<li>
<p>For <strong>Region</strong>, type <code>us-central1</code>.</p>
</li>
<li>
<p>For <strong>Network</strong>, type <code>my-internal-app</code>.</p>
</li>
</ol>
<h3>Configure the regional backend service</h3>
<p>The backend service monitors instance groups and prevents them from exceeding configured usage.</p>
<ol>
<li>
<p>Click <strong>Backend configuration</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (select option as specified)</th>
</tr>


<tr>
<td>Instance group</td>
<td>instance-group-1 (us-central1-a)</td>
</tr>

</table>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
<li>
<p>Click <strong>Add backend</strong>.</p>
</li>
<li>
<p>For <strong>Instance group</strong>, select <strong>instance-group-2 (us-central1-b)</strong>.</p>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
<li>
<p>For <strong>Health Check</strong>, select <strong>Create a health check</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (select option as specified)</th>
</tr>


<tr>
<td>Name</td>
<td>my-ilb-health-check</td>
</tr>
<tr>
<td>Protocol</td>
<td>TCP</td>
</tr>
<tr>
<td>Port</td>
<td>80</td>
</tr>
<tr>
<td>Check interval</td>
<td>10 sec</td>
</tr>
<tr>
<td>Timeout</td>
<td>5 sec</td>
</tr>
<tr>
<td>Healthy threshold</td>
<td>2</td>
</tr>
<tr>
<td>Unhealthy threshold</td>
<td>3</td>
</tr>

</table>
</li>
</ol>
<ql-infobox><strong>Note: </strong>Health checks determine which instances can receive new connections. This HTTP health check polls instances every 10 seconds, waits up to 5 seconds for a response, and treats 2 successful or 3 failed attempts as healthy threshold or unhealthy threshold, respectively.</ql-infobox>
<ol start="9">
<li>
<p>Click <strong>Save</strong>.</p>
</li>
<li>
<p>Verify that there is a blue checkmark next to <strong>Backend configuration</strong> in the Cloud Console. If there isn't, double-check that you have completed all the steps above.</p>
</li>
</ol>
<h3>Configure the frontend</h3>
<p>The frontend forwards traffic to the backend.</p>
<ol>
<li>
<p>Click <strong>Frontend configuration</strong>.</p>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Subnetwork</td>
<td>subnet-b</td>
</tr>
<tr>
<td>Internal IP &gt; IP address</td>
<td>Create IP address</td>
</tr>

</table>
</li>
<li>
<p>Specify the following, and leave the remaining settings as their defaults.</p>
<table>

<tr>
<th>Property</th>
<th>Value (type value or select option as specified)</th>
</tr>


<tr>
<td>Name</td>
<td>my-ilb-ip</td>
</tr>
<tr>
<td>Static IP address</td>
<td>Let me choose</td>
</tr>
<tr>
<td>Custom IP address</td>
<td>10.10.30.5</td>
</tr>

</table>
</li>
<li>
<p>Click <strong>Reserve</strong>.</p>
</li>
<li>
<p>Under <strong>Ports</strong>, for <strong>Port number</strong>, type <code>80</code>.</p>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
</ol>
<h3>Review and create the internal load balancer</h3>
<ol>
<li>Click <strong>Review and finalize</strong>.</li>
<li>Review the <strong>Backend</strong> and <strong>Frontend</strong>.</li>
<li>Click <strong>Create</strong>.<br>
Wait for the load balancer to be created before moving to the next task.</li>
</ol>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="4">
Configure the Internal Load Balancer
</ql-activity-tracking></p>
<h2 id="step7">Task 5. Test the internal load balancer</h2>
<p>Verify that the <strong>my-ilb</strong> IP address forwards traffic to <strong>instance-group-1</strong> in us-central1-a and <strong>instance-group-2</strong> in us-central1-b.</p>
<h3>Access the internal load balancer</h3>
<ol>
<li>
<p>On the <strong>Navigation menu</strong>, click <strong>Compute Engine &gt; VM instances</strong>.</p>
</li>
<li>
<p>For <strong>utility-vm</strong>, click <strong>SSH</strong> to launch a terminal and connect.</p>
</li>
<li>
<p>To verify that the internal load balancer forwards traffic, run the following command:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl 10.10.30.5
</ql-code-block>
<p>The output should look like this.</p>
<p><strong>Output:</strong></p>
<ql-code-block language="plaintext" output="">
&lt;h1&gt;Internal Load Balancing Lab&lt;/h1&gt;&lt;h2&gt;Client IP&lt;/h2&gt;Your IP address : 10.10.20.50&lt;h2&gt;Hostname&lt;/h2&gt;Server Hostname:
 instance-group-2-1zn8&lt;h2&gt;Server Location&lt;/h2&gt;Region and Zone: us-central1-b
</ql-code-block>
<ql-infobox><strong>Note: </strong>As expected, traffic is forwarded from the internal load balancer (10.10.30.5) to the backend.</ql-infobox>
<ol start="4">
<li>
<p>Run the same command a couple of times:</p>
</li>
</ol>
<ql-code-block language="plaintext">
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
curl 10.10.30.5
</ql-code-block>
<p>You should be able to see responses from <strong>instance-group-1</strong> in us-central1-a and <strong>instance-group-2</strong> in us-central1-b. If not, run the command again.</p>
<h2 id="step8">Congratulations!</h2>
<p>In this lab, you created two managed instance groups in the us-central1 region and a firewall rule to allow HTTP traffic to those instances and TCP traffic from the Google Cloud health checker. Then you configured and tested an internal load balancer for those instance groups.</p>
<h2 id="step9">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Google Cloud Skills Boost removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>
<p>Copyright 2022 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>

</div>
</div>


<div class='lab-content__end-lab-button js-end-lab-button-container hidden'>
<ql-lab-control-button class='js-end-lab-button' running></ql-lab-control-button>
</div>
<!-- / TODO: Move recommendations into the end lab modal -->
</ql-drawer-content>
<ql-drawer end id='outline-drawer' open slot='drawer' width='320'>
<div aria-label='Lab Table of Contents' role='navigation'>
<ul class='lab-content__outline js-lab-content-outline'>
<li><a href="#step1">Overview</a></li><li><a href="#step2">Setup and requirements</a></li><li><a href="#step3">Task 1. Configure internal traffic and health check firewall rules</a></li><li><a href="#step4">Task 2. Create a NAT configuration using Cloud Router</a></li><li><a href="#step5">Task 3. Configure instance templates and create instance groups</a></li><li><a href="#step6">Task 4. Configure the internal load balancer</a></li><li><a href="#step7">Task 5. Test the internal load balancer</a></li><li><a href="#step8">Congratulations!</a></li><li><a href="#step9">End your lab</a></li>
</ul>
</div>
</ql-drawer>
</ql-drawer-container>
</ql-drawer-content>
</ql-drawer-container>



</ql-drawer-content>
</ql-drawer-container>

</div>
</main>

<span class='hidden' id='flash-sibling-before'></span>
<ql-snackbar></ql-snackbar>


<div class='modal fade' id='lab-details-modal'>
<div class='modal-container'>
<div class='modal-content mdl-shadow--24dp'>
<div class='modal-body'>
<p class='l-mbm'>
In this lab, you create two managed instance groups in the same region. Then, you configure an Internal Load Balancer with the instances groups as the backends.
</p>
<p class='small-label l-mbs'>
<strong>
Duration:
</strong>
1m setup
&middot;
90m access
&middot;
45m completion
</p>
<p class='small-label l-mbs'>
<strong>AWS Region:</strong>
[] <strong></strong>
</p>
<p class='small-label l-mbs'>
<span><strong>Levels: </strong>introductory</span>
</p>
<p class='small-label'>
<strong>
Permalink:
</strong>
<a href="https://partner.cloudskillsboost.google/catalog_lab/1168">https://partner.cloudskillsboost.google/catalog_lab/1168</a>
</p>
</div>
<div class='modal-actions'>
<a class='button button--text' data-dismiss='modal'>
Got It
</a>
</div>


</div>
</div>
<iframe class='l-ie-iframe-fix' tabindex='-1' title='modal'></iframe>
</div>
<ql-dialog headline='How satisfied are you with this lab?&lt;span aria-hidden=&quot;true&quot;&gt;*&lt;/span&gt;' id='lab-review-dialog'>
<form class="simple_form js-lab-review-form" id="edit_lab_review_28975107" action="/lab_reviews/28975107" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" autocomplete="off" /><input type="hidden" name="_method" value="patch" autocomplete="off" /><div aria-labelledby='lab-review-dialog' aria-required='true' aria-valuemax='5' aria-valuemin='0' aria-valuenow='5' class='rateit js-rateit' data-rateit-max='5' data-rateit-min='0' data-rateit-resetable='false' data-rateit-step='1' data-rateit-value='5' id='lab-review-rateit' role='slider' tabindex='0'></div>
<div class='l-mtm'>

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="11061062" name="lab_review[user_id]" id="lab_review_user_id" /></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[classroom_id]" id="lab_review_classroom_id" /></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" value="1168" name="lab_review[lab_id]" id="lab_review_lab_id" /></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" autocomplete="off" type="hidden" name="lab_review[focus_id]" id="lab_review_focus_id" /></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" autocomplete="off" type="hidden" value="2" name="lab_review[rating]" id="lab_review_rating" /></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Additional Comments</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment">
</textarea></div></div>
</div>
</form><ql-button disabled id='submit' label='Submit' slot='action' text></ql-button>
</ql-dialog>

<ql-dialog headline='All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?' icon='error_outline' id='js-lab-are-you-sure-dialog'>
<ql-button id='js-are-you-sure-button' label='Submit' slot='action' text></ql-button>
</ql-dialog>
<ql-dialog dismissalLabel='Cancel' headline='A newer version of this course is available. Your progress will carry over if you choose to upgrade. However, your completion percentage may change if the new version has added or removed any learning activities. Click the preview button to see the course changes before upgrading.' icon='error' id='course-session-upgrade-modal'>
<ql-button href='/course_templates/178/preview' label='Preview' slot='action'>
Preview
</ql-button>
</ql-dialog>



<script>
  $(function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    document.querySelector('#course-session-completion-modal').open();
  fetch('/course_session_completion_shown');
  ql.labControlPanel.addRecaptchaErrorHandler();
  initLabContent();
  ql.labOutline.links.init();
  initLabReviewModal();
  initLabReviewTranslations( {"star_amount_1":"1 of 5 stars","star_amount_2":"2 of 5 stars","star_amount_3":"3 of 5 stars","star_amount_4":"4 of 5 stars","star_amount_5":"5 of 5 stars"} )
  ql.labAssessment.init();
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.chat.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>

</body>
</html>


